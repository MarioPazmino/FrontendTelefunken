<div class="page-container">
  <div class="container">
    <!-- Estado del Juego -->
    <div class="Estado-del-Juego">
      <h2>Estado del Juego</h2>
      <div class="status-grid">
        <div class="status-info">
          <p>Ronda actual: {{currentMatch?.currentRound}}</p>
          <p>Estado: {{currentMatch?.status === 'in_progress' ? 'En progreso' : 'Completado'}}</p>
        </div>
        <div class="status-info">
          <p>Iniciado: {{currentMatch?.startedAt | date:'short'}}</p>
          <p>Última actualización: {{currentMatch?.updatedAt | date:'short'}}</p>
        </div>
      </div>
    </div>

    <!-- Formulario de Registro -->
    <div class="Registrar-Puntuacion">
      <h3 class="titulo-seccion">Registrar Puntuación</h3>
      <form (ngSubmit)="registrarPuntuacion()">
        <div class="form-grid">
          <div class="form-group">
            <label>Jugador</label>
            <select [(ngModel)]="selectedPlayerId" name="playerId">
              <option value="">Seleccionar jugador</option>
              <option *ngFor="let player of currentMatch?.players" [value]="player.playerId">
                {{player.playerName}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>Puntos</label>
            <input type="number" [(ngModel)]="roundScore.points" name="points">
          </div>

          <div class="form-group">
            <label>Fichas Usadas</label>
            <input type="number" [(ngModel)]="roundScore.fichasUsadas" name="fichasUsadas">
          </div>

          <div class="checkbox-container">
            <input type="checkbox" [(ngModel)]="roundScore.telefunken" name="telefunken" id="telefunken">
            <label for="telefunken">Telefunken</label>
          </div>
        </div>

        <div class="botones-accion">
          <button type="button" (click)="resetForm()" class="LIMPIAR">
            Limpiar
          </button>
          <button type="submit" class="REGISTRAR">
            Registrar Puntuación
          </button>
        </div>
      </form>
    </div>

    <!-- Nueva Tabla de Puntuaciones -->
    <div class="Tabla-de-Puntuaciones-container">
      <h3 class="titulo-tabla">Tabla de Puntuaciones</h3>
      <div class="tabla-wrapper">
        <table class="Tabla-de-Puntuaciones">
          <thead>
            <tr>
              <th></th>
              <th *ngFor="let jugador of [1,2,3]">
                Jugador {{jugador}}
                <div class="fichas-info">Fichas: 10</div>
                <button class="comprar-ficha">COMPRAR FICHA</button>
              </th>
            </tr>
          </thead>
          <tbody>
            <!-- Rondas 1/3 -->
            <tr>
              <td class="ronda-label">1/3</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>
            <tr>
              <td class="ronda-label">2/3</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>

            <!-- Rondas 1/4 -->
            <tr>
              <td class="ronda-label">1/4</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>
            <tr>
              <td class="ronda-label">2/4</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>

            <!-- Rondas 1/5 -->
            <tr>
              <td class="ronda-label">1/5</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>
            <tr>
              <td class="ronda-label">2/5</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>

            <!-- Escalera -->
            <tr>
              <td class="ronda-label">Escalera</td>
              <td *ngFor="let jugador of [1,2,3]">
                <input type="number" class="score-input" readonly>
              </td>
            </tr>

            <!-- Total -->
            <tr class="total-row">
              <td class="ronda-label">TOTAL</td>
              <td *ngFor="let jugador of [1,2,3]">0</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>